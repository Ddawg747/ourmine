tmpdownload=$HOME/tmpdown
base=$HOME/opt/ourmine

#set up all dirs
setup() {
	[ -d "$base" ] && rm -rf $base
	mkdir -p $tmpdownload; cd $tmpdownload;
	mkdir -p $base
	echo "Downloading begins. On slow connections, this may take up to ten minites."
	wget -rq ourmine.googlecode.com/svn .
	echo "Downloaded."
	cp -R ourmine.googlecode.com/svn/trunk/our/ $base
	rm -rf $tmpdownload
}

#make all of the files executable
permit() {
	chmod +x $base/our/*
}

report() {
	cat<<EOF
Ourmine installed to: $base.
To run, enter "cd $base"' then "./ourmine".
To remove, enter "rm -rf $base."
EOF
}

echo "Intall beginning. About to zap any existing $base."
echo "Enter to continue, Control-C to abort."
read && setup && permit && report
